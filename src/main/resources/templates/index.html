<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8"/>
	<link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.ico">
	<link rel="icon" type="image/png" href="/img/favicon.ico">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
	<title>Lumi Hive</title>
	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport'/>
	<link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700|Source+Sans+Pro:400,600,700" rel="stylesheet">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
	<link href="/css/main.css" rel="stylesheet"/>
	<link href="/css/index.css" rel="stylesheet"/>
	<style>
		html {
			height: 100%;
		}
		body {
			min-height: 100vh; /* Ensures body takes at least full viewport height */
			display: flex;
			flex-direction: column; /* Stacks children vertically (header, main content, footer) */
			font-family: 'Source Sans Pro', sans-serif;
			background-color: #f8f9fa; /* Softer background color */
			color: #333;
			margin: 0; /* Reset default margin */
		}

		.main-content-wrapper {
			flex-grow: 1; /* Allows this wrapper to grow and push the footer down */
		}

		h1, h2, h3, h4, h5, h6,
		.font-weight-bold.spanborder span, /* For section titles */
		.card-body h2.h4 a.text-dark, /* For article titles in cards */
		.list-unstyled h6 a.text-dark /* For popular article titles */
		{
			font-family: 'Playfair Display', serif;
		}

		/* Enhanced card shadow for 3D effect */
		.card.box-shadow {
			box-shadow: 0 6px 6px rgba(0,0,0,0.15), 0 3px 4px rgba(0,0,0,0.10);
			transition: all 0.3s cubic-bezier(.25,.8,.25,1);
			border: none; /* Remove default border if any for a cleaner shadow effect */
		}

		.card.box-shadow:hover {
			box-shadow: 0 10px 10px rgba(0, 0, 0, 0.11), 0 5px 5px rgba(0, 0, 0, 0.1);
			transform: translateY(-2px); /* Slight lift on hover */
		}

		/* Carousel enhancements */
		#carouselExampleCaptions {
			height: 350px; /* Slightly increased height */
			margin-bottom: 30px;
		}
		#carouselExampleCaptions .carousel-inner,
		#carouselExampleCaptions .carousel-item {
			height: 100%;
		}
		#carouselExampleCaptions .carousel-item img {
			object-fit: cover;
			height: 100%;
			filter: brightness(0.8); /* Slightly darken images for better text contrast */
		}
		.carousel-caption {
			background-color: rgba(0, 0, 0, 0.37);
			border-radius: .25rem;
			padding: 15px;
			bottom: 20px; /* Adjust position */
		}
		.carousel-caption h5 {
			font-family: 'Playfair Display', serif; /* Ensure font */
			color: #fff;
		}
		.carousel-caption p {
			font-family: 'Source Sans Pro', sans-serif; /* Ensure font */
			color: #f0f0f0;
		}

		.spanborder span { /* This rule might need review if it conflicts with h5.font-weight-bold.spanborder span */
			border-bottom: 0;
			display: inline-block;
			padding-bottom: 20px; /* This padding seems large for an inline-block span if it's just text */
			margin-bottom: -1px; /* This might be for alignment with its parent's border */
		}
		/* Section title beautification */
		h5.font-weight-bold.spanborder {
			border-bottom: 2px solid #ffda58; /* Or your theme's primary color */
			padding-bottom: 10px;
			margin-bottom: 25px;
			position: relative; /* For potential pseudo-elements if needed */
		}
		h5.font-weight-bold.spanborder span {
			background-color: #ffda58; /* Or your theme's primary color */
			color: white; /* Text color for the span, ensure contrast */
			padding: 6px 12px;
			border-radius: 4px;
			font-size: 1.2rem; /* Slightly larger for emphasis */
			/* Resetting inherited properties from generic .spanborder span if they conflict */
			display: inline-block; /* Ensure it behaves as expected */
			margin-bottom: 0;
			padding-bottom: 6px; /* Match top padding or adjust as needed */

		}

		.card-body h2.h4 a.text-dark {
			color: #2c3e50 !important; /* Darker, more sophisticated color */
			transition: color 0.2s ease-in-out;
		}
		.card-body h2.h4 a.text-dark:hover {
			color: #ffda58 !important; /* Theme color on hover */
		}

		/* Popular articles list item styling */
		.col-md-4.pl-4 ol.list-unstyled li.mb-3 {
			padding-bottom: 1rem;
			margin-bottom: 1rem;
		}
		.col-md-4.pl-4 ol.list-unstyled li.mb-3:last-child {
			border-bottom: none;
			margin-bottom: 0;
		}

		/* Pagination styling - subtle improvements */
		.pagination .page-item.active .page-link {
			background-color: #ffda58;
			border-color: #ffda58;
			color: white; /* Text color for active page, ensure contrast */
		}
		.pagination .page-link {
			color: #ffda58;
			transition: background-color 0.2s ease, color 0.2s ease;
		}
		.pagination .page-link:hover {
			background-color: #e9ecef;
			color: #ffda58; /* Keep color or change to a darker shade for better feedback */
		}
		.pagination .page-item.disabled .page-link {
			color: #6c757d;
		}

	</style>
</head>
<body>
<div th:replace="~{fragments/header :: navbar}"></div>

<div class="main-content-wrapper"> <div class="container" style="width:100%">
	<div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel" style="height: 300px"> <ol class="carousel-indicators">
		<li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
		<li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
		<li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
	</ol>
		<div class="carousel-inner">
			<div class="carousel-item active">
				<img th:src="@{/img/demo/1.jpg}" class="d-block w-100" alt="...">
				<div class="carousel-caption d-none d-md-block">
					<h5>First slide label</h5>
					<p>Some representative placeholder content for the first slide.</p>
				</div>
			</div>
			<div class="carousel-item">
				<img th:src="@{/img/demo/2.jpg}" class="d-block w-100" alt="...">
				<div class="carousel-caption d-none d-md-block">
					<h5>Second slide label</h5>
					<p>Some representative placeholder content for the second slide.</p>
				</div>
			</div>
			<div class="carousel-item">
				<img th:src="@{/img/demo/3.jpg}" class="d-block w-100" alt="...">
				<div class="carousel-caption d-none d-md-block">
					<h5>Third slide label</h5>
					<p>Some representative placeholder content for the third slide.</p>
				</div>
			</div>
		</div>
		<button class="carousel-control-prev" type="button" data-target="#carouselExampleCaptions" data-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="sr-only">Previous</span>
		</button>
		<button class="carousel-control-next" type="button" data-target="#carouselExampleCaptions" data-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="sr-only">Next</span>
		</button>
	</div>
</div>

	<div class="container" style="margin-top:20px">
		<div class="row justify-content-between">
			<div class="col-md-8"> <h5 class="font-weight-bold spanborder"><span>所有文章</span></h5>

				<div th:if="${articles != null}">
					<div th:each="article : ${articles.records}" class="card mb-4 box-shadow"> <div class="card-body d-flex flex-column"> <div>
						<h2 class="mb-1 h4 font-weight-bold">
							<a class="text-dark" th:href="@{'/article/' + ${article.slug}}" th:text="${article.title}">文章标题</a>
						</h2>
						<p class="card-text mb-auto" th:text="${article.excerpt}">文章摘要...</p>
					</div>
						<div class="mt-3 d-flex justify-content-between align-items-center w-100"> <div class="d-flex align-items-center">
							<img th:if="${article.AvatarUrl != null and !article.AvatarUrl.isEmpty()}"
								 th:src="${article.AvatarUrl}"
								 alt="作者头像"
								 style="width: 24px; height: 24px; border-radius: 50%; margin-right: 8px;">
							<small class="text-muted" th:text="${article.userName ?: '佚名'}">作者</small>
						</div>
							<small class="text-muted" th:if="${article.gmtCreate}" th:text="${#temporals.format(article.gmtCreate, 'yyyy年MM月dd日')}">发布日期</small>
						</div>
					</div>
					</div>
				</div>

				<div th:if="${articles == null or articles.records.isEmpty()}">
					<p>暂时还没有文章哦，敬请期待！</p>
				</div>

				<nav th:if="${articles != null && articles.pages > 1}" aria-label="Page navigation" class="mt-4">
					<ul class="pagination justify-content-center">
						<li class="page-item" th:classappend="${articles.current == 1} ? 'disabled' : ''">
							<a class="page-link" th:href="@{/(page=${articles.current - 1}, size=${articles.size})}">上一页</a>
						</li>
						<th:block th:with="
						  currentPage=${articles.current},
						  totalPages=${articles.pages},
						  startPage=${T(java.lang.Math).max(1L, currentPage - 1)},
						  endPage=${T(java.lang.Math).min(totalPages, currentPage + 1)}">
							<li class="page-item" th:if="${startPage > 1}"><a class="page-link" th:href="@{/(page=1, size=${articles.size})}">1</a></li>
							<li class="page-item disabled" th:if="${startPage > 2}"><span class="page-link">...</span></li>
							<li class="page-item" th:each="i : ${#numbers.sequence(startPage, endPage)}" th:classappend="${i == currentPage} ? 'active' : ''">
								<a class="page-link" th:href="@{/(page=${i}, size=${articles.size})}" th:text="${i}"></a>
							</li>
							<li class="page-item disabled" th:if="${endPage < totalPages - 1}"><span class="page-link">...</span></li>
							<li class="page-item" th:if="${endPage < totalPages}"><a class="page-link" th:href="@{/(page=${totalPages}, size=${articles.size})}" th:text="${totalPages}"></a></li>
						</th:block>
						<li class="page-item" th:classappend="${articles.current == articles.pages} ? 'disabled' : ''">
							<a class="page-link" th:href="@{/(page=${articles.current + 1}, size=${articles.size})}">下一页</a>
						</li>
					</ul>
				</nav>
			</div>

			<div class="col-md-4 pl-4"> <h5 class="font-weight-bold spanborder"><span>热门阅读 (Popular)</span></h5>
				<ol class="list-unstyled" th:if="${popularArticles != null and not popularArticles.isEmpty()}">
					<li th:each="popArticle, iterStat : ${popularArticles}" class="mb-3 pb-3 border-bottom"> <div class="d-flex align-items-center">
						<div>
							<h6 class="font-weight-bold mb-0">
								<a th:href="@{'/article/' + ${popArticle.slug}}" class="text-dark" th:text="${popArticle.title}">Popular Article Title</a>
							</h6>
							<small class="text-muted d-flex align-items-center">
								<img th:if="${popArticle.AvatarUrl != null and !popArticle.AvatarUrl.isEmpty()}"
									 th:src="${popArticle.AvatarUrl}"
									 alt="作者头像"
									 style="width: 16px; height: 16px; border-radius: 50%; margin-right: 4px;">
								<span th:text="${popArticle.userName ?: '佚名'}">作者</span>
							</small>
						</div>
					</div>
					</li>
				</ol>
				<div th:if="${popularArticles == null or popularArticles.isEmpty()}">
					<p>暂无热门文章。</p>
				</div>
			</div>
		</div>
	</div>
</div> <div th:replace="~{fragments/footer :: page-footer}"></div>
<th:block th:if="${session.showPasswordSetupPrompt == true}">
</th:block>

<script th:src="@{/js/vendor/jquery.min.js}" type="text/javascript"></script>
<script th:src="@{/js/vendor/popper.min.js}" type="text/javascript"></script>
<script th:src="@{/js/vendor/bootstrap.min.js}" type="text/javascript"></script>
<script th:src="@{/js/functions.js}" type="text/javascript"></script>
</body>
</html>