<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<nav th:fragment="navbar" class="topnav navbar navbar-expand-lg navbar-light bg-white fixed-top border-bottom" style="padding-bottom: 0; padding-top: 0;">
  <div class="container-fluid">
    <div style="padding-left: 20px;">
      <a class="navbar-brand" th:href="@{/}"> <img alt="logo" src="/img/logo.png" style="margin: 5px; height: 55px; width: 250px"/>
      </a>
    </div>
    <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-collapse collapse" id="navbarColor02" style="">
      <ul class="navbar-nav mr-auto d-flex align-items-center">
        <li class="nav-item">
          <a class="nav-link" th:href="@{/}">Intro</a> </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/article}">Culture</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/article}">Tech</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/article}">Politics</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/article}">Health</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/article}">Collections</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/about}">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/templates/docs.html}">Template <span class="badge badge-secondary">docs</span></a>
        </li>

      </ul>
      <ul class="navbar-nav ml-auto d-flex align-items-center">
        <th:block th:if="${session.user == null}">
          <li class="nav-item">
            <a class="nav-link" th:href="@{/login}">登 录</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" th:href="@{/signup}">注 册</a>
          </li>
        </th:block>

        <th:block th:if="${session.user != null}">
          <li class="nav-item highlight">
            <a class="nav-link" th:href="@{/publish}">发 布 文 章</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" th:text="${session.user.getName()}" style="font-size: 1.2em; color: #10de88;">用户名</a>
          </li>
          <li class="nav-item" style="padding-right: 10px; display: flex; align-items: center;">
            <a href="./publish" class="nav-link p-0">
            <img th:if="${session.user.getAvatarUrl() != null && !session.user.getAvatarUrl().isEmpty()}"
                 th:src="${session.user.getAvatarUrl()}" alt="用户头像" class="rounded-circle"
                 style="width: 52px; height: 52px; object-fit: cover; border: 1px solid #ddd;">
              <th:block th:if="${session.user.getAvatarUrl() == null || session.user.getAvatarUrl().isEmpty()}">
              <i class="fas fa-user-circle" style="font-size: 32px; color: #ccc;"></i>
              </th:block>
          </a>
          </li>
        </th:block>
      </ul>
    </div>
  </div>
</nav>
</body>
</html>